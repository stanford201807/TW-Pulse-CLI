---
description: æ¸¬è©¦äº¤æ˜“ç­–ç•¥ç³»çµ±ï¼ˆåˆ—è¡¨ã€è©³æƒ…ã€å›æ¸¬ï¼‰
---

# ç­–ç•¥ç³»çµ±æ¸¬è©¦å·¥ä½œæµç¨‹

æœ¬å·¥ä½œæµç¨‹ç”¨æ–¼æ¸¬è©¦ TW-Pulse-CLI çš„ç­–ç•¥æ¨¡çµ„ç³»çµ±ï¼ŒåŒ…å«ç­–ç•¥åˆ—è¡¨ã€è©³æƒ…æŸ¥çœ‹ã€ä»¥åŠå›æ¸¬åŸ·è¡Œã€‚

## å‰ç½®éœ€æ±‚

> [!IMPORTANT]
> - å¿…é ˆå…ˆå•Ÿå‹• pulse æ‡‰ç”¨ç¨‹å¼
> - ç­–ç•¥æ¨¡çµ„éœ€å·²æ­£ç¢ºè¼‰å…¥ï¼ˆé‡æ–°å•Ÿå‹•æ‡‰ç”¨ç¨‹å¼ä»¥ç¢ºä¿è¼‰å…¥ï¼‰

## æ¸¬è©¦æ­¥é©Ÿ

### 1. æŸ¥çœ‹ç­–ç•¥é¸å–®

é¦–å…ˆæ¸¬è©¦åŸºæœ¬çš„ç­–ç•¥åˆ—è¡¨åŠŸèƒ½ï¼š

// turbo
```powershell
cd d:\GitHub\TW-Pulse-CLI
pulse
/strategy
```

**é æœŸè¼¸å‡º**ï¼š
- é¡¯ç¤ºæ‰€æœ‰å·²è¨»å†Šçš„ç­–ç•¥åˆ—è¡¨
- æ¯å€‹ç­–ç•¥åŒ…å«ç·¨è™Ÿã€åç¨±ã€æè¿°ã€ä½¿ç”¨æŒ‡ä»¤

### 2. æŸ¥çœ‹ç­–ç•¥è©³æƒ…

æ¸¬è©¦æŸ¥çœ‹ç‰¹å®šç­–ç•¥çš„è©³ç´°è³‡è¨Šï¼š

// turbo
```
/strategy farmer
```

**é æœŸè¼¸å‡º**ï¼š
- ç­–ç•¥å®Œæ•´èªªæ˜
- å¯é…ç½®åƒæ•¸åŠé è¨­å€¼
- æ ¸å¿ƒè¦å‰‡æè¿°

### 3. æŸ¥çœ‹ç‰¹å®šè‚¡ç¥¨ç‹€æ…‹ï¼ˆé¸ç”¨ï¼‰

å¦‚æœéœ€è¦æŸ¥çœ‹ç‰¹å®šè‚¡ç¥¨åœ¨ç­–ç•¥ä¸­çš„ç‹€æ…‹ï¼š

```
/strategy farmer 2330
```

**é æœŸè¼¸å‡º**ï¼š
- ç•¶å‰æŒå€‰è³‡è¨Š
- åŸºæº–åƒ¹
- åŠ æ¸›ç¢¼é–€æª»
- ç­–ç•¥åŸ·è¡Œç‹€æ…‹

### 4. åŸ·è¡Œå›æ¸¬

æ¸¬è©¦å›æ¸¬å¼•æ“åŠŸèƒ½ï¼ˆé€™æœƒè¼‰å…¥æ­·å²æ•¸æ“šä¸¦åŸ·è¡Œæ¨¡æ“¬ï¼‰ï¼š

```
/strategy farmer 2330 backtest
```

**é æœŸè¼¸å‡º**ï¼š
- å›æ¸¬æœŸé–“ï¼ˆé è¨­ 5 å¹´ï¼‰
- ç¸¾æ•ˆæŒ‡æ¨™ï¼š
  - ç¸½å ±é…¬ç‡ / å¹´åŒ–å ±é…¬ç‡
  - æœ€å¤§å›æ’¤ï¼ˆMaximum Drawdownï¼‰
  - å¤æ™®æ¯”ç‡ï¼ˆSharpe Ratioï¼‰
  - å‹ç‡çµ±è¨ˆ
- äº¤æ˜“æ˜ç´°ï¼ˆå‰ 10 ç­†ï¼‰
- æœ€çµ‚è³‡ç”¢ç‹€æ³

### 5. æ¸¬è©¦åˆ¥åå‘½ä»¤ï¼ˆé¸ç”¨ï¼‰

ç¢ºèªå‘½ä»¤åˆ¥åæ˜¯å¦æ­£å¸¸é‹ä½œï¼š

```
/strategies
/ç­–ç•¥
```

**é æœŸè¼¸å‡º**ï¼šèˆ‡ `/strategy` ç›¸åŒçš„ç­–ç•¥é¸å–®

## æ•…éšœæ’é™¤

### å‘½ä»¤ç„¡å›æ‡‰

å¦‚æœè¼¸å…¥ `/strategy` æ²’æœ‰åæ‡‰ï¼š

1. **æª¢æŸ¥æ‡‰ç”¨ç¨‹å¼æ˜¯å¦æ­£åœ¨é‹è¡Œ**
   ```powershell
   # æŸ¥çœ‹ pulse é€²ç¨‹
   Get-Process -Name python | Where-Object {$_.CommandLine -like "*pulse*"}
   ```

2. **é‡æ–°å•Ÿå‹• pulse æ‡‰ç”¨ç¨‹å¼**
   ```powershell
   # åœæ­¢ç•¶å‰ pulse (Ctrl+C)
   # ç„¶å¾Œé‡æ–°å•Ÿå‹•
   cd d:\GitHub\TW-Pulse-CLI
   .\start.ps1
   ```

3. **æª¢æŸ¥æ¨¡çµ„æ˜¯å¦æ­£ç¢ºå®‰è£**
   ```powershell
   # ç¢ºèªç­–ç•¥æ¨¡çµ„æª”æ¡ˆå­˜åœ¨
   Test-Path "d:\GitHub\TW-Pulse-CLI\pulse\core\strategies\farmer_planting.py"
   Test-Path "d:\GitHub\TW-Pulse-CLI\pulse\cli\commands\strategy.py"
   ```

### å›æ¸¬å¤±æ•—

å¦‚æœå›æ¸¬åŸ·è¡Œå¤±æ•—ï¼š

1. **æª¢æŸ¥ç¶²è·¯é€£ç·š**ï¼ˆå›æ¸¬éœ€è¦ä¸‹è¼‰æ­·å²æ•¸æ“šï¼‰
2. **ç¢ºèªè‚¡ç¥¨ä»£ç¢¼æ­£ç¢º**ï¼ˆå°è‚¡éœ€åŠ ä¸Š `.TW` å¾Œç¶´ï¼Œä¾‹å¦‚ `2330.TW`ï¼‰
3. **æŸ¥çœ‹éŒ¯èª¤æ—¥èªŒ**
   ```powershell
   # æŸ¥çœ‹æœ€æ–°çš„éŒ¯èª¤æ—¥èªŒ
   Get-Content "d:\GitHub\TW-Pulse-CLI\logs\error.log" -Tail 50
   ```

### ç­–ç•¥æœªæ­£ç¢ºè¼‰å…¥

å¦‚æœç­–ç•¥åˆ—è¡¨ç‚ºç©ºæˆ–ç¼ºå°‘ç­–ç•¥ï¼š

1. **æª¢æŸ¥ `__init__.py` è¨»å†Š**
   ```python
   # ç¢ºèª pulse/core/strategies/__init__.py åŒ…å«ï¼š
   from .farmer_planting import FarmerPlantingStrategy
   ```

2. **æª¢æŸ¥è¨»å†Šç³»çµ±**
   ```powershell
   # æŸ¥çœ‹ç­–ç•¥è¨»å†Šæ—¥èªŒ
   Get-Content "d:\GitHub\TW-Pulse-CLI\logs\strategy.log" -Tail 20
   ```

## è‡ªå‹•åŒ–æ¸¬è©¦è…³æœ¬

*å°ˆæ¡ˆå·²åŒ…å«å°ˆé–€çš„æ¸¬è©¦è…³æœ¬ï¼Œå¯ç¨ç«‹æ¸¬è©¦ç­–ç•¥ç³»çµ±çš„æ ¸å¿ƒåŠŸèƒ½ï¼š*

### æ¸¬è©¦è…³æœ¬ 1ï¼šåŠŸèƒ½æ¸¬è©¦

**è·¯å¾‘**: [tests/test_cli/test_strategy_command.py](file:///d:/GitHub/TW-Pulse-CLI/tests/test_cli/test_strategy_command.py)

åŸ·è¡Œå®Œæ•´åŠŸèƒ½æ¸¬è©¦ï¼š

```powershell
cd d:\GitHub\TW-Pulse-CLI
.venv\Scripts\python tests\test_cli\test_strategy_command.py
```

**æ¸¬è©¦é …ç›®**ï¼š
- âœ… ç­–ç•¥è¨»å†Šæ©Ÿåˆ¶
- âœ… ç­–ç•¥é¸å–®é¡¯ç¤º
- âœ… ç­–ç•¥éµå€¼è§£æ
- âœ… ç­–ç•¥è©³æƒ…æŸ¥è©¢
- âœ… è¾²å¤«ç­–ç•¥å°ˆé …æ¸¬è©¦

### æ¸¬è©¦è…³æœ¬ 2ï¼šè¨ºæ–·æ¸¬è©¦ 

**è·¯å¾‘**: [tests/test_cli/test_strategy_diagnostic.py](file:///d:/GitHub/TW-Pulse-CLI/tests/test_cli/test_strategy_diagnostic.py)

åŸ·è¡Œè¨ºæ–·æ¸¬è©¦ï¼ˆæ¨¡æ“¬å¯¦éš›å‘½ä»¤è¼¸å‡ºï¼‰ï¼š

```powershell
.venv\Scripts\python tests\test_cli\test_strategy_diagnostic.py
```

**æ¸¬è©¦é …ç›®**ï¼š
- æ¨¡æ“¬ `/strategy` å‘½ä»¤åŸ·è¡Œ
- æ¨¡æ“¬ `/strategy farmerplanting` å‘½ä»¤åŸ·è¡Œ
- é©—è­‰è¼¸å‡ºæ ¼å¼æ­£ç¢ºæ€§

## æ¸¬è©¦çµæœç¸½çµ

### âœ… å·²é©—è­‰åŠŸèƒ½

1. **ç­–ç•¥è¨»å†Š** - `farmerplanting` ç­–ç•¥å·²æˆåŠŸè¨»å†Š
2. **ç­–ç•¥åˆ—è¡¨** - å¯æ­£ç¢ºé¡¯ç¤ºã€Œé€²éšè¾²å¤«æ’­ç¨®è¡“ã€ç­–ç•¥
3. **ç­–ç•¥è©³æƒ…** - æ‰€æœ‰é…ç½®åƒæ•¸æ­£ç¢ºé¡¯ç¤ºï¼š
   - æœ€å¤§æŒå€‰: 10 ä»½
   - åŠ ç¢¼é–€æª»: 1.03 (æ¼²å¹… 3%)
   - æ¸›ç¢¼é–€æª»: 0.97 (è·Œå¹… 3%)
   - ç§»å‹•åœåˆ©: 0.2 (å›è½ 20%)

### ğŸ“ ä½¿ç”¨èªªæ˜

åœ¨ pulse æ‡‰ç”¨ç¨‹å¼ä¸­ä½¿ç”¨ç­–ç•¥å‘½ä»¤æ™‚ï¼Œç­–ç•¥éµå€¼ç‚º **`farmerplanting`**ï¼ˆå®Œæ•´åç¨±ï¼‰ï¼Œè€Œéç°¡å¯« `farmer`ã€‚

æ­£ç¢ºå‘½ä»¤æ ¼å¼ï¼š
```
/strategy                              # é¡¯ç¤ºç­–ç•¥é¸å–®
/strategy farmerplanting               # é¡¯ç¤ºç­–ç•¥è©³æƒ…
/strategy farmerplanting 2330          # æŸ¥çœ‹ 2330 çš„ç­–ç•¥ç‹€æ…‹
/strategy farmerplanting 2330 backtest # åŸ·è¡Œå›æ¸¬
```

æˆ–ä½¿ç”¨ç­–ç•¥ç·¨è™Ÿï¼š
```
/strategy 1                # èˆ‡ /strategy farmerplanting ç›¸åŒ
```

## é©—è­‰æˆåŠŸæ¨™æº–

âœ… ç­–ç•¥åˆ—è¡¨æ­£ç¢ºé¡¯ç¤ºæ‰€æœ‰å·²è¨»å†Šç­–ç•¥
âœ… ç­–ç•¥è©³æƒ…åŒ…å«å®Œæ•´çš„åƒæ•¸èªªæ˜
âœ… å›æ¸¬èƒ½æˆåŠŸåŸ·è¡Œä¸¦é¡¯ç¤ºç¸¾æ•ˆæŒ‡æ¨™
âœ… äº¤æ˜“æ˜ç´°é‚è¼¯æ¸…æ™°ï¼ˆè²·é€²/è³£å‡ºç†ç”±æ˜ç¢ºï¼‰
âœ… ç¸¾æ•ˆæ•¸æ“šåˆç†ï¼ˆå ±é…¬ç‡ã€å›æ’¤ã€å¤æ™®æ¯”ç‡åœ¨åˆç†ç¯„åœå…§ï¼‰
âœ… è‡ªå‹•åŒ–æ¸¬è©¦è…³æœ¬å…¨éƒ¨é€šéï¼ˆ5/5 æ¸¬è©¦é€šéï¼‰

## åƒè€ƒæ–‡ä»¶

- [ç­–ç•¥æ¨¡çµ„ç³»çµ±å¯¦ä½œ](file:///d:/GitHub/TW-Pulse-CLI/ç­–ç•¥æ¨¡çµ„ç³»çµ±å¯¦ä½œ.md)
- [ç­–ç•¥åŸºç¤é¡åˆ¥](file:///d:/GitHub/TW-Pulse-CLI/pulse/core/strategies/base.py)
- [å›æ¸¬å¼•æ“](file:///d:/GitHub/TW-Pulse-CLI/pulse/core/backtest/engine.py)
- [ç­–ç•¥åŠŸèƒ½æ¸¬è©¦](file:///d:/GitHub/TW-Pulse-CLI/tests/test_cli/test_strategy_command.py)
- [ç­–ç•¥è¨ºæ–·æ¸¬è©¦](file:///d:/GitHub/TW-Pulse-CLI/tests/test_cli/test_strategy_diagnostic.py)
